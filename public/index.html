<!DOCTYPE HTML>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Hades Boons</title>
  <link href="style.css" rel="stylesheet" />
  <script type="text/javascript" src="hades-boons.js"></script>
  <script type="text/javascript" src="svg-pan-zoom.min.js"></script>
</head>

<body>
  <div id="top">
    <div>
      <svg id="graph">
    </div>
  </div>
</body>

<script type="text/javascript">
  var app = Elm.HadesBoons.init()

  let canvas = document.createElement("canvas");
  let context = canvas.getContext("2d");

  if (app.ports && app.ports.getTextWidth) {
    app.ports.getTextWidth.subscribe(function(params) {
      context.font = params.font;
      let metrics = context.measureText(params.text);
      app.ports.textSize.send({text: params.text, width: metrics.width})
    })
  }

  var panZoom = function() {
    var element = document.querySelector('svg')
    svgPanZoom(element, {
      zoomEnabled: true,
      controlIconsEnabled: true,
      fit: true,
      center: true,
      maxZoom: 100.0,
      minZoom: 0.5
    })
  }
  panZoom()
</script>
<script defer src="svgxuse.js"></script>

</html>

